# 焊接监测软件 (Welding Monitor)

一个基于Qt的实时焊接过程监测和缺陷分析系统。

## 🚀 功能特性

### 📊 多维度数据监测
- **电流数据**: 实时显示焊接电流波形（红色曲线）
- **电压数据**: 实时显示焊接电压波形（蓝色曲线）
- **声音数据**: 实时显示焊接声音信号（绿色曲线）
- **光谱数据**: 4Hz频率播放光谱文件（深橙色曲线）

### 🎥 图像监测系统
- **熔池图像**: 30FPS高帧率播放熔池图像，支持智能抽帧
- **红外图像**: 9FPS播放红外热成像数据，按组号-序号正确排序

### 🔍 焊接缺陷数据库
支持5种焊接缺陷类型的数据分析：
- **A18内部气孔**: 气孔缺陷数据集
- **A35焊漏**: 焊漏缺陷数据集  
- **A37焊偏**: 焊偏缺陷数据集
- **A40未焊透**: 未焊透缺陷数据集
- **C28错边**: 错边缺陷数据集

## 🛠️ 技术栈

- **框架**: Qt 6.x (C++)
- **图表库**: QCustomPlot
- **图像处理**: QGraphicsView/QLabel
- **构建系统**: qmake/CMake

## 📁 项目结构

```
welding_monitor/
├── main.cpp                 # 主程序入口
├── menu.h/menu.cpp         # 主界面逻辑
├── menu.ui                  # Qt Designer界面文件
├── qcustomplot.h/cpp        # 图表绘制库
├── defect_data/             # 缺陷数据目录
│   ├── A18内部气孔/         # 各种缺陷类型数据
│   ├── A35焊漏/
│   ├── A37焊偏/
│   ├── A40未焊透/
│   └── C28错边/
├── 熔池图像/                # 熔池图像数据
├── 红外图像/                # 红外图像数据
└── spec/                    # 光谱数据文件
```

## 🎮 使用方法

### 启动和选择缺陷类型
1. 运行程序
2. 点击"缺陷数据"按钮
3. 在弹出对话框中选择要分析的缺陷类型
4. 系统自动加载对应缺陷的所有数据

### 数据播放控制
- **开始播放**: 选择缺陷类型后自动开始播放
- **停止播放**: 再次点击"缺陷数据"按钮停止
- **实时监控**: 观察各种传感器数据的同步变化

### 播放参数
- **数据更新**: 50ms间隔实时更新
- **光谱频率**: 4Hz循环播放
- **熔池图像**: 30FPS（智能抽帧，70秒播完）
- **红外图像**: 9FPS（70秒播完）

## 🔧 编译说明

### 环境要求
- Qt 6.x 开发环境
- C++17 或更高版本
- Windows/Linux/macOS

### 编译步骤
```bash
# 方法1: 使用qmake
qmake welding_monitor.pro
make

# 方法2: 使用CMake
mkdir build && cd build
cmake ..
make

# Windows下可以使用
build.bat
```

## 📈 数据格式

### 传感器数据
- **电流/电压/声音**: 每行一个数值的txt文件
- **光谱数据**: 两列数据（波长 强度）

### 图像数据
- **熔池图像**: JPG格式，按数字编号
- **红外图像**: PNG格式，按`irdata0xy_ij.png`格式命名
  - `xy`: 组号 (000, 001, 002, ...)
  - `ij`: 组内序号 (01, 02, 03, ...)

## 🎯 主要特性

### 智能数据管理
- 自动扫描和排序数据文件
- 支持大数据量的高效播放
- 内存优化的流式加载

### 可视化特性
- 多图表同步显示
- 透明背景设计
- 自适应图像缩放
- 实时状态监控

### 缺陷分析
- 多缺陷类型对比
- 完整的数据回放功能
- 时序数据同步播放

## 📝 开发说明

这个项目实现了完整的焊接过程监测系统，可以用于：
- 焊接质量分析
- 缺陷模式识别
- 传感器数据研究
- 教学演示

## 📄 许可证

[添加你的许可证信息]

## 👥 贡献

欢迎提交Issue和Pull Request！

---
*更新时间: 2025年9月*
